# The Fundamentals of Scripting in the DOM [P3]

Although server-side programming can be used to generate dynamic content, this content cannot be manipulated any further once it has reached the client. In order to make changes to the Document Object Model, the DOM, as it exists in the browser, JavaScript must be used.

There are a number of key attributes shared by almost all scripting and programming languages, and JavaScript is a great language to demonstrate them with.

## Variables

In order to store pieces of data that must be accessed repeatedly and to make a script more readable for a human, variables are used. A name is assigned to a piece of data, and this name can be used to refer to the data at later time. 

### For Ease

Consider the following:

	var multiplier = 4; // declare 'multiplier' variable as 4 (integer)

	alert(1 * multiplier);
	alert(2 * multiplier);
	alert(3 * multiplier);

The above JavaScript, when executed in a browser, would produce three alert boxes containing the first, second and third multiples of four, respectively. If the developer of the script above wanted to instead show the multiples of five, only one character would need to be changed. Without the use of variables, the number would need to be changed in three places. In this case, the use of variables has improved human-readability and maintainability.

### For Speed and Consistency

Variables are also used to save time during execution. Consider the following:

	var angle = 2 * Math.PI * (0.70710678 / 1);

	alert(angle);
	alert(angle);

In this script, a relatively complex calculation is performed, using multiple floating-point numbers. In order to prevent the computer from needing to calculate the answer twice (as the answer is shown in two alert boxes), a variable is used to store the answer after initial calculation. In some cases performing calculations twice will yield different answers, such as when pseudo-random numbers are used. In order to maintain consistency, answers must be stored rather than recalculated.

## Conditionals and Looping

Based on the values of variables, sections of a script can be executed multiple times, or not at all. Conditional blocks such as `if`, `while`, `for`, and `switch` allow for more dynamic programming. Consider the following:

	var multiplier = 4;

	for (var i = 1; i <= 10; i++) {
		alert(i * multiplier);
	}

The `for` loop will create a new variable `i` with a value of 1, and will then execute the content between the curly braces until the condition `i <= 10` is not met. For each execution the variable `i` is also incremented by 1, leading the loop to execute 10 times.

## Interacting With the Document

In the browser an HTML document is presented to JavaScript as a document tree. This can be modified in several ways. Unless one is using a library or framework to make the process easier, one generally begins interacting with the document by selecting elements. One can use selectors such as `getElementById()` or `getElementsByClassName()`, but those with experience using CSS may find `querySelector` more intuitive. Consider the following:

	var navElem = document.querySelector('nav');
	navElem.style.background = '#003d60';

The method "`querySelector`" in the global object `window` is called with a single string argument. The method returns an `Element` object of the first HTML `nav` element it finds in the document, which is assigned the name `navElem` for future reference. This name is then used to set the background colour of the element to a dark shade of blue. If no `nav` element if found, the variable is set to `undefined`, causing a `TypeError` exception to be raised.

## Asynchronous JavaScript and XML

In recent years AJAX has become hugely prominent in web development. In order to retrieve content from the webserver without needing to reload the page, HTTP requests can be created in JavaScript. One of the key advantages of this is the potential to only load relevant data on hyperlink clicks. Using JavaScript, a web developer can prevent links from behaving as usual, and instead request new page data from the server relevant to the link. This can then be injected into the DOM saving time and the redundant re-downloading of content. AngularJS is a web framework built around this concept of requesting data in HTTP calls and updating the page.

<!-- # Improvement of Functionality [M2] -->

#  Further Development of Cubes Website [P5]

I have used HTML, CSS, and &ndash; most prominently &ndash; JavaScript to improve upon the website I built for [assignment 2](/btec/20.2). The updated website can be viewed [here](/btec/file/sites/20.3-cubes/index.html), or downloaded as a ZIP file below.

<div class="f">
	<a href="/btec/download;sites/20.3-cubes">20.3-cubes.zip</a>
</div>

# Testing Phase [P6]

<!-- # Scripting Across Browsers [D1] -->

<!-- # Evaluation of Cubes Website [D2] -->
